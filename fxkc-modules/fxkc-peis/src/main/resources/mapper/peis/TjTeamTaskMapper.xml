<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.fxkc.peis.mapper.TjTeamTaskMapper">

    <select id="teamSettleWaitTaskGroupTree" resultType="org.fxkc.peis.domain.vo.TjTeamWaitTaskGroupVo">
        select
            id,task_name name,0 parentId
        from TJ_TEAM_TASK
        where
            del_flag = '0'
            and team_id = #{teamId}
        union all
        select
            a.id,a.group_name name,a.task_id parentId
        from TJ_TEAM_GROUP a
        left join TJ_TEAM_TASK b on a.task_id = b.id
        where
            a.del_flag = '0'
            and b.del_flag = '0'
            and b.team_id = #{teamId}
    </select>

</mapper>
